// @license Â© 2020 Google LLC. Licensed under the Apache License, Version 2.0.
const e=async(t,r,i=t.name)=>{const a=[],s=[];for await(const n of t.getEntries()){const o=`${i}/${n.name}`;n.isFile?s.push(n.getFile().then((e=>(e.directoryHandle=t,Object.defineProperty(e,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>o}))))):n.isDirectory&&r&&a.push(e(n,r,o))}return[...(await Promise.all(a)).flat(),...await Promise.all(s)]};var t=async(t={})=>{t.recursive=t.recursive||!1;const r=await window.chooseFileSystemEntries({type:"open-directory"});return e(r,t.recursive)};export{t as default};
