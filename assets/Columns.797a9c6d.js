var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,a=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&i(e,n,t[n]);if(r)for(var n of r(t))s.call(t,n)&&i(e,n,t[n]);return e},l=(e,r)=>t(e,n(r));import{_ as c,b as u,d,e as h,c as g,f as m}from"./index.7cedf56a.js";import{d as f,ai as v,aj as p,J as b,u as y,a6 as E,p as C,h as S,f as O,o as M,c as _,i as w,t as x,a as D,w as P,ak as j,al as N,am as L,an as T,ao as X,ap as Y,aq as F,ar as I,as as k,at as A,au as V,av as q,aw as $,K as U,O as B,q as R,G as z,b as K,F as H,z as W,e as G,g as J}from"./vendor.bae2ebbb.js";var Q=f({components:{VInput:c,VGroup:u,VCheckbox:d,VField:h,VButton:g,VSuggest:m,TrashOffIcon:v,TrashIcon:p},props:{columnName:{type:String,required:!0},tableName:{type:String,required:!0}},setup(e){const t=b(),n=y({get(){var n;return null==(n=t.state.modifications[e.tableName])?void 0:n.columns[e.columnName]},set(n){t.commit("setModifiedColumn",{tableName:e.tableName,columnName:e.columnName,column:n})}}),r=y((()=>t.getters.columnModifications(e.tableName,e.columnName))),o=y((()=>n.value.new?"new":n.value.drop?"delete":r.value?"modified":"orignal")),s=y((()=>Object.keys(t.state.tables))),i=y((()=>{var e,r;return(null==(e=n.value)?void 0:e.foreign.table)&&(null==(r=t.state.tables[n.value.foreign.table])?void 0:r.columns)?Object.keys(t.state.tables[n.value.foreign.table].columns):[]}));return{modified:r,revert:()=>{n.value.new?t.commit("setModification",{tableName:e.tableName,modified:l(a({},t.state.modifications[e.tableName]),{columns:E(t.state.modifications[e.tableName].columns,e.columnName)})}):t.dispatch("revertModifiedColumn",{columnName:e.columnName,tableName:e.tableName})},status:o,column:n,tableOptions:s,columnOptions:i}}});const Z=P();C("data-v-4967dc04");const ee={class:"column-card"},te={class:"header header-name w-96 overflow-hidden ellipsis"},ne={class:"header header-controlls"};S();const re=Z(((e,t,n,r,o,s)=>{const i=O("v-button"),c=O("v-field"),u=O("v-checkbox"),d=O("v-input"),h=O("v-group"),g=O("v-suggest");return M(),_("main",ee,[w("header",null,[w("span",te,x(e.column.new?e.column.name:e.columnName),1),w("span",{class:{"text-blue-500":"modified"===e.status,"text-green-700":"orignal"===e.status,"text-yellow-600":"new"===e.status,"text-red-600":"delete"===e.status,"header header-status":!0}},x(e.status),3),w("span",ne,[w(i,{variant:"text",onClick:t[1]||(t[1]=t=>e.column.new?e.revert():e.column=l(a({},e.column),{drop:!e.column.drop}))},{default:Z((()=>[(M(),_(D(e.column.drop?"trash-off-icon":"trash-icon"),{class:"p-0.5"}))])),_:1})])]),w(c,{label:"Name",class:"col-span-6","model-value":e.column.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.column=l(a({},e.column),{name:t}))},null,8,["model-value"]),w(c,{class:"col-span-6",input:"suggest",label:"Type","model-value":e.column.type,"input-props":{options:["INTEGER","TEXT","BLOB","REAL","NUMERIC"]},"onUpdate:modelValue":t[3]||(t[3]=t=>e.column=l(a({},e.column),{type:t}))},null,8,["model-value"]),w(c,{label:"Primary Key","model-value":e.column.primaryKey,input:"checkbox","input-props":{text:"Primary Key"},class:"col-span-2","onUpdate:modelValue":t[4]||(t[4]=t=>e.column=l(a({},e.column),{primaryKey:t}))},null,8,["model-value"]),w(c,{label:"Not Null","model-value":e.column.notNull,input:"checkbox","input-props":{text:"Not Null"},class:"col-span-2","onUpdate:modelValue":t[5]||(t[5]=t=>e.column=l(a({},e.column),{notNull:t}))},null,8,["model-value"]),w(c,{label:"Unqiue","model-value":e.column.unique,input:"checkbox","input-props":{text:"Unique"},class:"col-span-2","onUpdate:modelValue":t[6]||(t[6]=t=>e.column=l(a({},e.column),{unique:t}))},null,8,["model-value"]),w(c,{label:"Min",class:"col-span-3",input:"number","model-value":e.column.min,"onUpdate:modelValue":t[7]||(t[7]=t=>e.column=l(a({},e.column),{min:t}))},null,8,["model-value"]),w(c,{label:"Max",class:"col-span-3",input:"number","model-value":e.column.max,"onUpdate:modelValue":t[8]||(t[8]=t=>e.column=l(a({},e.column),{max:t}))},null,8,["model-value"]),w(c,{label:"Default",class:"col-span-6"},{default:Z((()=>[w(h,{"model-value-mapping":["enabled","value"],"model-value":e.column.default,"onUpdate:modelValue":t[9]||(t[9]=t=>e.column=l(a({},e.column),{default:t}))},{default:Z((()=>[w(u),w(d)])),_:1},8,["model-value"])])),_:1}),w(c,{label:"Foreign Key",class:"col-span-6"},{default:Z((()=>[w(h,{"model-value":e.column.foreign,"model-value-mapping":["table","column"],"onUpdate:modelValue":t[11]||(t[11]=t=>e.column=l(a({},e.column),{foreign:t}))},{default:Z((()=>[w(g,{options:e.tableOptions},null,8,["options"]),w(g,{options:e.columnOptions,onFocus:t[10]||(t[10]=t=>e.column.foreign.table&&e.column.foreign.table in e.$store.state.tables&&e.$store.dispatch("queryColumns",e.column.foreign.table))},null,8,["options"])])),_:1},8,["model-value"])])),_:1})])}));Q.render=re,Q.__scopeId="data-v-4967dc04";var oe={exports:{}};window;var se=j(oe.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(22),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(30);Object.defineProperty(t,"closest",{enumerable:!0,get:function(){return a(r).default}});var o=n(28);Object.defineProperty(t,"requestNextAnimationFrame",{enumerable:!0,get:function(){return a(o).default}});var s=n(26);Object.defineProperty(t,"distance",{enumerable:!0,get:function(){return a(s).default}});var i=n(24);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"touchCoords",{enumerable:!0,get:function(){return a(i).default}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(46),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(39),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);Object.defineProperty(t,"Sensor",{enumerable:!0,get:function(){return c(r).default}});var o=n(21);Object.defineProperty(t,"MouseSensor",{enumerable:!0,get:function(){return c(o).default}});var s=n(18);Object.defineProperty(t,"TouchSensor",{enumerable:!0,get:function(){return c(s).default}});var i=n(16);Object.defineProperty(t,"DragSensor",{enumerable:!0,get:function(){return c(i).default}});var a=n(14);Object.defineProperty(t,"ForceTouchSensor",{enumerable:!0,get:function(){return c(a).default}});var l=n(0);function c(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(41);Object.defineProperty(t,"Announcement",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(t,"defaultAnnouncementOptions",{enumerable:!0,get:function(){return r.defaultOptions}});var o=n(38);Object.defineProperty(t,"Focusable",{enumerable:!0,get:function(){return a(o).default}});var s=n(36);Object.defineProperty(t,"Mirror",{enumerable:!0,get:function(){return a(s).default}}),Object.defineProperty(t,"defaultMirrorOptions",{enumerable:!0,get:function(){return s.defaultOptions}});var i=n(32);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Scrollable",{enumerable:!0,get:function(){return a(i).default}}),Object.defineProperty(t,"defaultScrollableOptions",{enumerable:!0,get:function(){return i.defaultOptions}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(42);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(43);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(47);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.callbacks={}}on(e,...t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(...t),this}off(e,t){if(!this.callbacks[e])return null;const n=this.callbacks[e].slice(0);for(let r=0;r<n.length;r++)t===n[r]&&this.callbacks[e].splice(r,1);return this}trigger(e){if(!this.callbacks[e.type])return null;const t=[...this.callbacks[e.type]],n=[];for(let o=t.length-1;o>=0;o--){const s=t[o];try{s(e)}catch(r){n.push(r)}}return n.length&&console.error(`Draggable caught errors while triggering '${e.type}'`,n),this}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(10),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(2),i=n(6),a=n(11),l=(r=a)&&r.__esModule?r:{default:r},c=n(5),u=n(7),d=n(8);const h=Symbol("onDragStart"),g=Symbol("onDragMove"),m=Symbol("onDragStop"),f=Symbol("onDragPressure"),v={"drag:start":e=>`Picked up ${e.source.textContent.trim()||e.source.id||"draggable element"}`,"drag:stop":e=>`Released ${e.source.textContent.trim()||e.source.id||"draggable element"}`},p={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},b=t.defaultOptions={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class y{constructor(e=[document.body],t={}){if(e instanceof NodeList||e instanceof Array)this.containers=[...e];else{if(!(e instanceof HTMLElement))throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.containers=[e]}this.options=o({},b,t,{classes:o({},p,t.classes||{}),announcements:o({},v,t.announcements||{}),exclude:{plugins:t.exclude&&t.exclude.plugins||[],sensors:t.exclude&&t.exclude.sensors||[]}}),this.emitter=new l.default,this.dragging=!1,this.plugins=[],this.sensors=[],this[h]=this[h].bind(this),this[g]=this[g].bind(this),this[m]=this[m].bind(this),this[f]=this[f].bind(this),document.addEventListener("drag:start",this[h],!0),document.addEventListener("drag:move",this[g],!0),document.addEventListener("drag:stop",this[m],!0),document.addEventListener("drag:pressure",this[f],!0);const n=Object.values(y.Plugins).filter((e=>!this.options.exclude.plugins.includes(e))),r=Object.values(y.Sensors).filter((e=>!this.options.exclude.sensors.includes(e)));this.addPlugin(...n,...this.options.plugins),this.addSensor(...r,...this.options.sensors);const s=new u.DraggableInitializedEvent({draggable:this});this.on("mirror:created",(({mirror:e})=>this.mirror=e)),this.on("mirror:destroy",(()=>this.mirror=null)),this.trigger(s)}destroy(){document.removeEventListener("drag:start",this[h],!0),document.removeEventListener("drag:move",this[g],!0),document.removeEventListener("drag:stop",this[m],!0),document.removeEventListener("drag:pressure",this[f],!0);const e=new u.DraggableDestroyEvent({draggable:this});this.trigger(e),this.removePlugin(...this.plugins.map((e=>e.constructor))),this.removeSensor(...this.sensors.map((e=>e.constructor)))}addPlugin(...e){const t=e.map((e=>new e(this)));return t.forEach((e=>e.attach())),this.plugins=[...this.plugins,...t],this}removePlugin(...e){return this.plugins.filter((t=>e.includes(t.constructor))).forEach((e=>e.detach())),this.plugins=this.plugins.filter((t=>!e.includes(t.constructor))),this}addSensor(...e){const t=e.map((e=>new e(this.containers,this.options)));return t.forEach((e=>e.attach())),this.sensors=[...this.sensors,...t],this}removeSensor(...e){return this.sensors.filter((t=>e.includes(t.constructor))).forEach((e=>e.detach())),this.sensors=this.sensors.filter((t=>!e.includes(t.constructor))),this}addContainer(...e){return this.containers=[...this.containers,...e],this.sensors.forEach((t=>t.addContainer(...e))),this}removeContainer(...e){return this.containers=this.containers.filter((t=>!e.includes(t))),this.sensors.forEach((t=>t.removeContainer(...e))),this}on(e,...t){return this.emitter.on(e,...t),this}off(e,t){return this.emitter.off(e,t),this}trigger(e){return this.emitter.trigger(e),this}getClassNameFor(e){return this.getClassNamesFor(e)[0]}getClassNamesFor(e){const t=this.options.classes[e];return t instanceof Array?t:"string"==typeof t||t instanceof String?[t]:[]}isDragging(){return Boolean(this.dragging)}getDraggableElements(){return this.containers.reduce(((e,t)=>[...e,...this.getDraggableElementsForContainer(t)]),[])}getDraggableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter((e=>e!==this.originalSource&&e!==this.mirror))}[h](e){const t=E(e),{target:n,container:r}=t;if(!this.containers.includes(r))return;if(this.options.handle&&n&&!(0,s.closest)(n,this.options.handle))return void t.cancel();if(this.originalSource=(0,s.closest)(n,this.options.draggable),this.sourceContainer=r,!this.originalSource)return void t.cancel();this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none";const i=new d.DragStartEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:t});if(this.trigger(i),this.dragging=!i.canceled(),i.canceled())return this.source.parentNode.removeChild(this.source),void(this.originalSource.style.display=null);this.originalSource.classList.add(...this.getClassNamesFor("source:original")),this.source.classList.add(...this.getClassNamesFor("source:dragging")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging")),document.body.classList.add(...this.getClassNamesFor("body:dragging")),C(document.body,"none"),requestAnimationFrame((()=>{const t=E(e).clone({target:this.source});this[g](o({},e,{detail:t}))}))}[g](e){if(!this.dragging)return;const t=E(e),{container:n}=t;let r=t.target;const o=new d.DragMoveEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t});this.trigger(o),o.canceled()&&t.cancel(),r=(0,s.closest)(r,this.options.draggable);const i=(0,s.closest)(t.target,this.containers),a=t.overContainer||i,l=this.currentOverContainer&&a!==this.currentOverContainer,c=this.currentOver&&r!==this.currentOver,u=a&&this.currentOverContainer!==a,h=i&&r&&this.currentOver!==r;if(c){const e=new d.DragOutEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,over:this.currentOver,overContainer:this.currentOverContainer});this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOver=null,this.trigger(e)}if(l){const e=new d.DragOutContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.currentOverContainer=null,this.trigger(e)}if(u){a.classList.add(...this.getClassNamesFor("container:over"));const e=new d.DragOverContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:a});this.currentOverContainer=a,this.trigger(e)}if(h){r.classList.add(...this.getClassNamesFor("draggable:over"));const e=new d.DragOverEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:a,over:r});this.currentOver=r,this.trigger(e)}}[m](e){if(!this.dragging)return;this.dragging=!1;const t=new d.DragStopEvent({source:this.source,originalSource:this.originalSource,sensorEvent:e.sensorEvent,sourceContainer:this.sourceContainer});this.trigger(t),this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.parentNode.removeChild(this.source),this.originalSource.style.display="",this.source.classList.remove(...this.getClassNamesFor("source:dragging")),this.originalSource.classList.remove(...this.getClassNamesFor("source:original")),this.originalSource.classList.add(...this.getClassNamesFor("source:placed")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed")),this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging")),document.body.classList.remove(...this.getClassNamesFor("body:dragging")),C(document.body,""),this.currentOver&&this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout((()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null}),this.options.placedTimeout);const n=new d.DragStoppedEvent({source:this.source,originalSource:this.originalSource,sensorEvent:e.sensorEvent,sourceContainer:this.sourceContainer});this.trigger(n),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}[f](e){if(!this.dragging)return;const t=E(e),n=this.source||(0,s.closest)(t.originalEvent.target,this.options.draggable),r=new d.DragPressureEvent({sensorEvent:t,source:n,pressure:t.pressure});this.trigger(r)}}function E(e){return e.detail}function C(e,t){e.style.webkitUserSelect=t,e.style.mozUserSelect=t,e.style.msUserSelect=t,e.style.oUserSelect=t,e.style.userSelect=t}t.default=y,y.Plugins={Announcement:i.Announcement,Focusable:i.Focusable,Mirror:i.Mirror,Scrollable:i.Scrollable},y.Sensors={MouseSensor:c.MouseSensor,TouchSensor:c.TouchSensor}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r},i=n(0);const a=Symbol("onMouseForceWillBegin"),l=Symbol("onMouseForceDown"),c=Symbol("onMouseDown"),u=Symbol("onMouseForceChange"),d=Symbol("onMouseMove"),h=Symbol("onMouseUp"),g=Symbol("onMouseForceGlobalChange");class m extends s.default{constructor(e=[],t={}){super(e,t),this.mightDrag=!1,this[a]=this[a].bind(this),this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this)}attach(){for(const e of this.containers)e.addEventListener("webkitmouseforcewillbegin",this[a],!1),e.addEventListener("webkitmouseforcedown",this[l],!1),e.addEventListener("mousedown",this[c],!0),e.addEventListener("webkitmouseforcechanged",this[u],!1);document.addEventListener("mousemove",this[d]),document.addEventListener("mouseup",this[h])}detach(){for(const e of this.containers)e.removeEventListener("webkitmouseforcewillbegin",this[a],!1),e.removeEventListener("webkitmouseforcedown",this[l],!1),e.removeEventListener("mousedown",this[c],!0),e.removeEventListener("webkitmouseforcechanged",this[u],!1);document.removeEventListener("mousemove",this[d]),document.removeEventListener("mouseup",this[h])}[a](e){e.preventDefault(),this.mightDrag=!0}[l](e){if(this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=e.currentTarget,r=new i.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),this.currentContainer=n,this.dragging=!r.canceled(),this.mightDrag=!1}[h](e){if(!this.dragging)return;const t=new i.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:null,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,t),this.currentContainer=null,this.dragging=!1,this.mightDrag=!1}[c](e){this.mightDrag&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault())}[d](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=new i.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}[u](e){if(this.dragging)return;const t=e.target,n=e.currentTarget,r=new i.DragPressureSensorEvent({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r)}[g](e){if(!this.dragging)return;const t=e.target,n=new i.DragPressureSensorEvent({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}}t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(13),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),s=n(1),i=(r=s)&&r.__esModule?r:{default:r},a=n(0);const l=Symbol("onMouseDown"),c=Symbol("onMouseUp"),u=Symbol("onDragStart"),d=Symbol("onDragOver"),h=Symbol("onDragEnd"),g=Symbol("onDrop"),m=Symbol("reset");class f extends i.default{constructor(e=[],t={}){super(e,t),this.mouseDownTimeout=null,this.draggableElement=null,this.nativeDraggableElement=null,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this),this[g]=this[g].bind(this)}attach(){document.addEventListener("mousedown",this[l],!0)}detach(){document.removeEventListener("mousedown",this[l],!0)}[u](e){e.dataTransfer.setData("text",""),e.dataTransfer.effectAllowed=this.options.type;const t=document.elementFromPoint(e.clientX,e.clientY);if(this.currentContainer=(0,o.closest)(e.target,this.containers),!this.currentContainer)return;const n=new a.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});setTimeout((()=>{this.trigger(this.currentContainer,n),n.canceled()?this.dragging=!1:this.dragging=!0}),0)}[d](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=this.currentContainer,r=new a.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),r.canceled()||(e.preventDefault(),e.dataTransfer.dropEffect=this.options.type)}[h](e){if(!this.dragging)return;document.removeEventListener("mouseup",this[c],!0);const t=document.elementFromPoint(e.clientX,e.clientY),n=this.currentContainer,r=new a.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),this.dragging=!1,this.startEvent=null,this[m]()}[g](e){e.preventDefault()}[l](e){if(e.target&&(e.target.form||e.target.contenteditable))return;const t=(0,o.closest)(e.target,(e=>e.draggable));t&&(t.draggable=!1,this.nativeDraggableElement=t),document.addEventListener("mouseup",this[c],!0),document.addEventListener("dragstart",this[u],!1),document.addEventListener("dragover",this[d],!1),document.addEventListener("dragend",this[h],!1),document.addEventListener("drop",this[g],!1);const n=(0,o.closest)(e.target,this.options.draggable);n&&(this.startEvent=e,this.mouseDownTimeout=setTimeout((()=>{n.draggable=!0,this.draggableElement=n}),this.delay.drag))}[c](){this[m]()}[m](){clearTimeout(this.mouseDownTimeout),document.removeEventListener("mouseup",this[c],!0),document.removeEventListener("dragstart",this[u],!1),document.removeEventListener("dragover",this[d],!1),document.removeEventListener("dragend",this[h],!1),document.removeEventListener("drop",this[g],!1),this.nativeDraggableElement&&(this.nativeDraggableElement.draggable=!0,this.nativeDraggableElement=null),this.draggableElement&&(this.draggableElement.draggable=!1,this.draggableElement=null)}}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(15),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),s=n(1),i=(r=s)&&r.__esModule?r:{default:r},a=n(0);const l=Symbol("onTouchStart"),c=Symbol("onTouchEnd"),u=Symbol("onTouchMove"),d=Symbol("startDrag"),h=Symbol("onDistanceChange");let g=!1;window.addEventListener("touchmove",(e=>{g&&e.preventDefault()}),{passive:!1});class m extends i.default{constructor(e=[],t={}){super(e,t),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this.pageX=null,this.pageY=null,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this)}attach(){document.addEventListener("touchstart",this[l])}detach(){document.removeEventListener("touchstart",this[l])}[l](e){const t=(0,o.closest)(e.target,this.containers);if(!t)return;const{distance:n=0}=this.options,{delay:r}=this,{pageX:s,pageY:i}=(0,o.touchCoords)(e);Object.assign(this,{pageX:s,pageY:i}),this.onTouchStartAt=Date.now(),this.startEvent=e,this.currentContainer=t,document.addEventListener("touchend",this[c]),document.addEventListener("touchcancel",this[c]),document.addEventListener("touchmove",this[h]),t.addEventListener("contextmenu",f),n&&(g=!0),this.tapTimeout=window.setTimeout((()=>{this[h]({touches:[{pageX:this.pageX,pageY:this.pageY}]})}),r.touch)}[d](){const e=this.startEvent,t=this.currentContainer,n=(0,o.touchCoords)(e),r=new a.DragStartSensorEvent({clientX:n.pageX,clientY:n.pageY,target:e.target,container:t,originalEvent:e});this.trigger(this.currentContainer,r),this.dragging=!r.canceled(),this.dragging&&document.addEventListener("touchmove",this[u]),g=this.dragging}[h](e){const{distance:t}=this.options,{startEvent:n,delay:r}=this,s=(0,o.touchCoords)(n),i=(0,o.touchCoords)(e),a=Date.now()-this.onTouchStartAt,l=(0,o.distance)(s.pageX,s.pageY,i.pageX,i.pageY);Object.assign(this,i),clearTimeout(this.tapTimeout),a<r.touch?document.removeEventListener("touchmove",this[h]):l>=t&&(document.removeEventListener("touchmove",this[h]),this[d]())}[u](e){if(!this.dragging)return;const{pageX:t,pageY:n}=(0,o.touchCoords)(e),r=document.elementFromPoint(t-window.scrollX,n-window.scrollY),s=new a.DragMoveSensorEvent({clientX:t,clientY:n,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s)}[c](e){if(clearTimeout(this.tapTimeout),g=!1,document.removeEventListener("touchend",this[c]),document.removeEventListener("touchcancel",this[c]),document.removeEventListener("touchmove",this[h]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",f),!this.dragging)return;document.removeEventListener("touchmove",this[u]);const{pageX:t,pageY:n}=(0,o.touchCoords)(e),r=document.elementFromPoint(t-window.scrollX,n-window.scrollY);e.preventDefault();const s=new a.DragStopSensorEvent({clientX:t,clientY:n,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s),this.currentContainer=null,this.dragging=!1,this.startEvent=null}}function f(e){e.preventDefault(),e.stopPropagation()}t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(17),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DragPressureSensorEvent=t.DragStopSensorEvent=t.DragMoveSensorEvent=t.DragStartSensorEvent=t.SensorEvent=void 0;var r,o=n(3),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get pressure(){return this.data.pressure}}t.SensorEvent=i;class a extends i{}t.DragStartSensorEvent=a,a.type="drag:start";class l extends i{}t.DragMoveSensorEvent=l,l.type="drag:move";class c extends i{}t.DragStopSensorEvent=c,c.type="drag:stop";class u extends i{}t.DragPressureSensorEvent=u,u.type="drag:pressure"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),s=n(1),i=(r=s)&&r.__esModule?r:{default:r},a=n(0);const l=Symbol("onContextMenuWhileDragging"),c=Symbol("onMouseDown"),u=Symbol("onMouseMove"),d=Symbol("onMouseUp"),h=Symbol("startDrag"),g=Symbol("onDistanceChange");class m extends i.default{constructor(e=[],t={}){super(e,t),this.mouseDownTimeout=null,this.pageX=null,this.pageY=null,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this),this[g]=this[g].bind(this)}attach(){document.addEventListener("mousedown",this[c],!0)}detach(){document.removeEventListener("mousedown",this[c],!0)}[c](e){if(0!==e.button||e.ctrlKey||e.metaKey)return;const t=(0,o.closest)(e.target,this.containers);if(!t)return;const{delay:n}=this,{pageX:r,pageY:s}=e;Object.assign(this,{pageX:r,pageY:s}),this.onMouseDownAt=Date.now(),this.startEvent=e,this.currentContainer=t,document.addEventListener("mouseup",this[d]),document.addEventListener("dragstart",f),document.addEventListener("mousemove",this[g]),this.mouseDownTimeout=window.setTimeout((()=>{this[g]({pageX:this.pageX,pageY:this.pageY})}),n.mouse)}[h](){const e=this.startEvent,t=this.currentContainer,n=new a.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:e.target,container:t,originalEvent:e});this.trigger(this.currentContainer,n),this.dragging=!n.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[l],!0),document.addEventListener("mousemove",this[u]))}[g](e){const{pageX:t,pageY:n}=e,{distance:r}=this.options,{startEvent:s,delay:i}=this;if(Object.assign(this,{pageX:t,pageY:n}),!this.currentContainer)return;const a=Date.now()-this.onMouseDownAt,l=(0,o.distance)(s.pageX,s.pageY,t,n)||0;clearTimeout(this.mouseDownTimeout),a<i.mouse?document.removeEventListener("mousemove",this[g]):l>=r&&(document.removeEventListener("mousemove",this[g]),this[h]())}[u](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=new a.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}[d](e){if(clearTimeout(this.mouseDownTimeout),0!==e.button)return;if(document.removeEventListener("mouseup",this[d]),document.removeEventListener("dragstart",f),document.removeEventListener("mousemove",this[g]),!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=new a.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n),document.removeEventListener("contextmenu",this[l],!0),document.removeEventListener("mousemove",this[u]),this.currentContainer=null,this.dragging=!1,this.startEvent=null}[l](e){e.preventDefault()}}function f(e){e.preventDefault()}t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(20),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const o={mouse:0,drag:0,touch:100};t.default=class{constructor(e=[],t={}){this.containers=[...e],this.options=r({},t),this.dragging=!1,this.currentContainer=null,this.startEvent=null,this.delay=function(e){const t={};if(void 0===e)return r({},o);if("number"==typeof e){for(const n in o)o.hasOwnProperty(n)&&(t[n]=e);return t}for(const n in o)o.hasOwnProperty(n)&&(void 0===e[n]?t[n]=o[n]:t[n]=e[n]);return t}(t.delay)}attach(){return this}detach(){return this}addContainer(...e){this.containers=[...this.containers,...e]}removeContainer(...e){this.containers=this.containers.filter((t=>!e.includes(t)))}trigger(e,t){const n=document.createEvent("Event");return n.detail=t,n.initEvent(t.type,!0,!0),e.dispatchEvent(n),this.lastEvent=t,t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e={}){const{touches:t,changedTouches:n}=e;return t&&t[0]||n&&n[0]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(23),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return Math.sqrt((n-e)**2+(r-t)**2)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(25),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return requestAnimationFrame((()=>{requestAnimationFrame(e)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(27),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return null;const n=t,o=t,s=t,i=t,a=Boolean("string"==typeof t),l=Boolean("function"==typeof t),c=Boolean(t instanceof NodeList||t instanceof Array),u=Boolean(t instanceof HTMLElement);let d=e;do{if(d=d.correspondingUseElement||d.correspondingElement||d,(h=d)?a?r.call(h,n):c?[...s].includes(h):u?i===h:l&&o(h):h)return d;d=d.parentNode}while(d&&d!==document.body&&d!==document);var h;return null};const r=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(29),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=t.scroll=t.onDragStop=t.onDragMove=t.onDragStart=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(4),i=(r=s)&&r.__esModule?r:{default:r},a=n(2);const l=t.onDragStart=Symbol("onDragStart"),c=t.onDragMove=Symbol("onDragMove"),u=t.onDragStop=Symbol("onDragStop"),d=t.scroll=Symbol("scroll"),h=t.defaultOptions={speed:6,sensitivity:50,scrollableElements:[]};class g extends i.default{constructor(e){super(e),this.options=o({},h,this.getOptions()),this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this)}attach(){this.draggable.on("drag:start",this[l]).on("drag:move",this[c]).on("drag:stop",this[u])}detach(){this.draggable.off("drag:start",this[l]).off("drag:move",this[c]).off("drag:stop",this[u])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(e){return this.hasDefinedScrollableElements()?(0,a.closest)(e,this.options.scrollableElements)||document.documentElement:function(e){if(!e)return m();const t=getComputedStyle(e).getPropertyValue("position"),n="absolute"===t,r=(0,a.closest)(e,(e=>(!n||!function(e){return"static"===getComputedStyle(e).getPropertyValue("position")}(e))&&function(e){const t=/(auto|scroll)/,n=getComputedStyle(e,null),r=n.getPropertyValue("overflow")+n.getPropertyValue("overflow-y")+n.getPropertyValue("overflow-x");return t.test(r)}(e)));return"fixed"!==t&&r?r:m()}(e)}hasDefinedScrollableElements(){return Boolean(0!==this.options.scrollableElements.length)}[l](e){this.findScrollableElementFrame=requestAnimationFrame((()=>{this.scrollableElement=this.getScrollableElement(e.source)}))}[c](e){if(this.findScrollableElementFrame=requestAnimationFrame((()=>{this.scrollableElement=this.getScrollableElement(e.sensorEvent.target)})),!this.scrollableElement)return;const t=e.sensorEvent,n={x:0,y:0};"ontouchstart"in window&&(n.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:t.clientX-n.x,clientY:t.clientY-n.y},this.scrollAnimationFrame=requestAnimationFrame(this[d])}[u](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[d](){if(!this.scrollableElement||!this.currentMousePosition)return;cancelAnimationFrame(this.scrollAnimationFrame);const{speed:e,sensitivity:t}=this.options,n=this.scrollableElement.getBoundingClientRect(),r=n.bottom>window.innerHeight,o=n.top<0||r,s=m(),i=this.scrollableElement,a=this.currentMousePosition.clientX,l=this.currentMousePosition.clientY;if(i===document.body||i===document.documentElement||o){const{innerHeight:n,innerWidth:r}=window;l<t?s.scrollTop-=e:n-l<t&&(s.scrollTop+=e),a<t?s.scrollLeft-=e:r-a<t&&(s.scrollLeft+=e)}else{const{offsetHeight:r,offsetWidth:o}=i;n.top+r-l<t?i.scrollTop+=e:l-n.top<t&&(i.scrollTop-=e),n.left+o-a<t?i.scrollLeft+=e:a-n.left<t&&(i.scrollLeft-=e)}this.scrollAnimationFrame=requestAnimationFrame(this[d])}}function m(){return document.scrollingElement||document.documentElement}t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(31),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MirrorDestroyEvent=t.MirrorMoveEvent=t.MirrorAttachedEvent=t.MirrorCreatedEvent=t.MirrorCreateEvent=t.MirrorEvent=void 0;var r,o=n(3),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}t.MirrorEvent=i;class a extends i{}t.MirrorCreateEvent=a,a.type="mirror:create";class l extends i{get mirror(){return this.data.mirror}}t.MirrorCreatedEvent=l,l.type="mirror:created";class c extends i{get mirror(){return this.data.mirror}}t.MirrorAttachedEvent=c,c.type="mirror:attached";class u extends i{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}t.MirrorMoveEvent=u,u.type="mirror:move",u.cancelable=!0;class d extends i{get mirror(){return this.data.mirror}}t.MirrorDestroyEvent=d,d.type="mirror:destroy",d.cancelable=!0},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(33);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=t.getAppendableContainer=t.onScroll=t.onMirrorMove=t.onMirrorCreated=t.onDragStop=t.onDragMove=t.onDragStart=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(4),i=(r=s)&&r.__esModule?r:{default:r},a=n(34);function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}const c=t.onDragStart=Symbol("onDragStart"),u=t.onDragMove=Symbol("onDragMove"),d=t.onDragStop=Symbol("onDragStop"),h=t.onMirrorCreated=Symbol("onMirrorCreated"),g=t.onMirrorMove=Symbol("onMirrorMove"),m=t.onScroll=Symbol("onScroll"),f=t.getAppendableContainer=Symbol("getAppendableContainer"),v=t.defaultOptions={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class p extends i.default{constructor(e){super(e),this.options=o({},v,this.getOptions()),this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this),this[g]=this[g].bind(this),this[m]=this[m].bind(this)}attach(){this.draggable.on("drag:start",this[c]).on("drag:move",this[u]).on("drag:stop",this[d]).on("mirror:created",this[h]).on("mirror:move",this[g])}detach(){this.draggable.off("drag:start",this[c]).off("drag:move",this[u]).off("drag:stop",this[d]).off("mirror:created",this[h]).off("mirror:move",this[g])}getOptions(){return this.draggable.options.mirror||{}}[c](e){if(e.canceled())return;"ontouchstart"in window&&document.addEventListener("scroll",this[m],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:t,originalSource:n,sourceContainer:r,sensorEvent:o}=e;this.lastMirrorMovedClient={x:o.clientX,y:o.clientY};const s=new a.MirrorCreateEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:o,dragEvent:e});if(this.draggable.trigger(s),function(e){return/^drag/.test(e.originalEvent.type)}(o)||s.canceled())return;const i=this[f](t)||r;this.mirror=t.cloneNode(!0);const l=new a.MirrorCreatedEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror}),c=new a.MirrorAttachedEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror});this.draggable.trigger(l),i.appendChild(this.mirror),this.draggable.trigger(c)}[u](e){if(!this.mirror||e.canceled())return;const{source:t,originalSource:n,sourceContainer:r,sensorEvent:o}=e;let s=!0,i=!0;if(this.options.thresholdX||this.options.thresholdY){const{x:e,y:t}=this.lastMirrorMovedClient;if(Math.abs(e-o.clientX)<this.options.thresholdX?s=!1:this.lastMirrorMovedClient.x=o.clientX,Math.abs(t-o.clientY)<this.options.thresholdY?i=!1:this.lastMirrorMovedClient.y=o.clientY,!s&&!i)return}const l=new a.MirrorMoveEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror,passedThreshX:s,passedThreshY:i});this.draggable.trigger(l)}[d](e){if("ontouchstart"in window&&document.removeEventListener("scroll",this[m],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},!this.mirror)return;const{source:t,sourceContainer:n,sensorEvent:r}=e,o=new a.MirrorDestroyEvent({source:t,mirror:this.mirror,sourceContainer:n,sensorEvent:r,dragEvent:e});this.draggable.trigger(o),o.canceled()||this.mirror.parentNode.removeChild(this.mirror)}[m](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[h]({mirror:e,source:t,sensorEvent:n}){const r=this.draggable.getClassNamesFor("mirror");e.style.display="none";const s={mirror:e,source:t,sensorEvent:n,mirrorClasses:r,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:!0,passedThreshY:!0};return Promise.resolve(s).then(b).then(y).then(E).then(C).then(O({initial:!0})).then(S).then((e=>{let{mirrorOffset:t,initialX:n,initialY:r}=e,s=l(e,["mirrorOffset","initialX","initialY"]);return this.mirrorOffset=t,this.initialX=n,this.initialY=r,this.lastMovedX=n,this.lastMovedY=r,o({mirrorOffset:t,initialX:n,initialY:r},s)}))}[g](e){if(e.canceled())return null;const t={mirror:e.mirror,sensorEvent:e.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(t).then(O({raf:!0})).then((e=>{let{lastMovedX:t,lastMovedY:n}=e,r=l(e,["lastMovedX","lastMovedY"]);return this.lastMovedX=t,this.lastMovedY=n,o({lastMovedX:t,lastMovedY:n},r)}))}[f](e){const t=this.options.appendTo;return"string"==typeof t?document.querySelector(t):t instanceof HTMLElement?t:"function"==typeof t?t(e):e.parentNode}}function b(e){let{source:t}=e,n=l(e,["source"]);return M((e=>{const r=t.getBoundingClientRect();e(o({source:t,sourceRect:r},n))}))}function y(e){let{sensorEvent:t,sourceRect:n,options:r}=e,s=l(e,["sensorEvent","sourceRect","options"]);return M((e=>{const i=null===r.cursorOffsetY?t.clientY-n.top:r.cursorOffsetY,a=null===r.cursorOffsetX?t.clientX-n.left:r.cursorOffsetX;e(o({sensorEvent:t,sourceRect:n,mirrorOffset:{top:i,left:a},options:r},s))}))}function E(e){let{mirror:t,source:n,options:r}=e,s=l(e,["mirror","source","options"]);return M((e=>{let i,a;if(r.constrainDimensions){const e=getComputedStyle(n);i=e.getPropertyValue("height"),a=e.getPropertyValue("width")}t.style.display=null,t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.left=0,t.style.margin=0,r.constrainDimensions&&(t.style.height=i,t.style.width=a),e(o({mirror:t,source:n,options:r},s))}))}function C(e){let{mirror:t,mirrorClasses:n}=e,r=l(e,["mirror","mirrorClasses"]);return M((e=>{t.classList.add(...n),e(o({mirror:t,mirrorClasses:n},r))}))}function S(e){let{mirror:t}=e,n=l(e,["mirror"]);return M((e=>{t.removeAttribute("id"),delete t.id,e(o({mirror:t},n))}))}function O({withFrame:e=!1,initial:t=!1}={}){return n=>{let{mirror:r,sensorEvent:s,mirrorOffset:i,initialY:a,initialX:c,scrollOffset:u,options:d,passedThreshX:h,passedThreshY:g,lastMovedX:m,lastMovedY:f}=n,v=l(n,["mirror","sensorEvent","mirrorOffset","initialY","initialX","scrollOffset","options","passedThreshX","passedThreshY","lastMovedX","lastMovedY"]);return M((e=>{const n=o({mirror:r,sensorEvent:s,mirrorOffset:i,options:d},v);if(i){const e=h?Math.round((s.clientX-i.left-u.x)/(d.thresholdX||1))*(d.thresholdX||1):Math.round(m),o=g?Math.round((s.clientY-i.top-u.y)/(d.thresholdY||1))*(d.thresholdY||1):Math.round(f);d.xAxis&&d.yAxis||t?r.style.transform=`translate3d(${e}px, ${o}px, 0)`:d.xAxis&&!d.yAxis?r.style.transform=`translate3d(${e}px, ${a}px, 0)`:d.yAxis&&!d.xAxis&&(r.style.transform=`translate3d(${c}px, ${o}px, 0)`),t&&(n.initialX=e,n.initialY=o),n.lastMovedX=e,n.lastMovedY=o}e(n)}),{frame:e})}}function M(e,{raf:t=!1}={}){return new Promise(((n,r)=>{t?requestAnimationFrame((()=>{e(n,r)})):e(n,r)}))}t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(35),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(4),i=(r=s)&&r.__esModule?r:{default:r};const a=Symbol("onInitialize"),l=Symbol("onDestroy"),c={};class u extends i.default{constructor(e){super(e),this.options=o({},c,this.getOptions()),this[a]=this[a].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on("draggable:initialize",this[a]).on("draggable:destroy",this[l])}detach(){this.draggable.off("draggable:initialize",this[a]).off("draggable:destroy",this[l]),this[l]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[a](){requestAnimationFrame((()=>{this.getElements().forEach((e=>function(e){Boolean(!e.getAttribute("tabindex")&&-1===e.tabIndex)&&(d.push(e),e.tabIndex=0)}(e)))}))}[l](){requestAnimationFrame((()=>{this.getElements().forEach((e=>function(e){const t=d.indexOf(e);-1!==t&&(e.tabIndex=-1,d.splice(t,1))}(e)))}))}}t.default=u;const d=[]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(37),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.draggable=e}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(4),i=(r=s)&&r.__esModule?r:{default:r};const a=Symbol("onInitialize"),l=Symbol("onDestroy"),c=Symbol("announceEvent"),u=Symbol("announceMessage"),d=t.defaultOptions={expire:7e3};class h extends i.default{constructor(e){super(e),this.options=o({},d,this.getOptions()),this.originalTriggerMethod=this.draggable.trigger,this[a]=this[a].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on("draggable:initialize",this[a])}detach(){this.draggable.off("draggable:destroy",this[l])}getOptions(){return this.draggable.options.announcements||{}}[c](e){const t=this.options[e.type];t&&"string"==typeof t&&this[u](t),t&&"function"==typeof t&&this[u](t(e))}[u](e){!function(e,{expire:t}){const n=document.createElement("div");n.textContent=e,g.appendChild(n),setTimeout((()=>{g.removeChild(n)}),t)}(e,{expire:this.options.expire})}[a](){this.draggable.trigger=e=>{try{this[c](e)}finally{this.originalTriggerMethod.call(this.draggable,e)}}}[l](){this.draggable.trigger=this.originalTriggerMethod}}t.default=h;const g=function(){const e=document.createElement("div");return e.setAttribute("id","draggable-live-region"),e.setAttribute("aria-relevant","additions"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","assertive"),e.setAttribute("role","log"),e.style.position="fixed",e.style.width="1px",e.style.height="1px",e.style.top="-1px",e.style.overflow="hidden",e}();document.addEventListener("DOMContentLoaded",(()=>{document.body.appendChild(g)}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(40),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DraggableDestroyEvent=t.DraggableInitializedEvent=t.DraggableEvent=void 0;var r,o=n(3),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get draggable(){return this.data.draggable}}t.DraggableEvent=i,i.type="draggable";class a extends i{}t.DraggableInitializedEvent=a,a.type="draggable:initialize";class l extends i{}t.DraggableDestroyEvent=l,l.type="draggable:destroy"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DragStoppedEvent=t.DragStopEvent=t.DragPressureEvent=t.DragOutContainerEvent=t.DragOverContainerEvent=t.DragOutEvent=t.DragOverEvent=t.DragMoveEvent=t.DragStartEvent=t.DragEvent=void 0;var r,o=n(3),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}t.DragEvent=i,i.type="drag";class a extends i{}t.DragStartEvent=a,a.type="drag:start",a.cancelable=!0;class l extends i{}t.DragMoveEvent=l,l.type="drag:move";class c extends i{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}t.DragOverEvent=c,c.type="drag:over",c.cancelable=!0;class u extends i{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}t.DragOutEvent=u,u.type="drag:out";class d extends i{get overContainer(){return this.data.overContainer}}t.DragOverContainerEvent=d,d.type="drag:over:container";class h extends i{get overContainer(){return this.data.overContainer}}t.DragOutContainerEvent=h,h.type="drag:out:container";class g extends i{get pressure(){return this.data.pressure}}t.DragPressureEvent=g,g.type="drag:pressure";class m extends i{}t.DragStopEvent=m,m.type="drag:stop";class f extends i{}t.DragStoppedEvent=f,f.type="drag:stopped"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(7);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var s=n(6);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var i=n(5);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var a,l=n(12),c=(a=l)&&a.__esModule?a:{default:a};t.default=c.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(44),i=(r=s)&&r.__esModule?r:{default:r},a=n(9);const l=Symbol("onDragStart"),c=Symbol("onDragOverContainer"),u=Symbol("onDragOver"),d=Symbol("onDragStop"),h={"sortable:sorted":function({dragEvent:e}){const t=e.source.textContent.trim()||e.source.id||"sortable element";if(e.over){const n=e.over.textContent.trim()||e.over.id||"sortable element";return e.source.compareDocumentPosition(e.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${t} after ${n}`:`Placed ${t} before ${n}`}return`Placed ${t} into a different container`}};class g extends i.default{constructor(e=[],t={}){super(e,o({},t,{announcements:o({},h,t.announcements||{})})),this.startIndex=null,this.startContainer=null,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this.on("drag:start",this[l]).on("drag:over:container",this[c]).on("drag:over",this[u]).on("drag:stop",this[d])}destroy(){super.destroy(),this.off("drag:start",this[l]).off("drag:over:container",this[c]).off("drag:over",this[u]).off("drag:stop",this[d])}index(e){return this.getSortableElementsForContainer(e.parentNode).indexOf(e)}getSortableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter((t=>t!==this.originalSource&&t!==this.mirror&&t.parentNode===e))}[l](e){this.startContainer=e.source.parentNode,this.startIndex=this.index(e.source);const t=new a.SortableStartEvent({dragEvent:e,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(t),t.canceled()&&e.cancel()}[c](e){if(e.canceled())return;const{source:t,over:n,overContainer:r}=e,o=this.index(t),s=new a.SortableSortEvent({dragEvent:e,currentIndex:o,source:t,over:n});if(this.trigger(s),s.canceled())return;const i=f({source:t,over:n,overContainer:r,children:this.getSortableElementsForContainer(r)});if(!i)return;const{oldContainer:l,newContainer:c}=i,u=this.index(e.source),d=new a.SortableSortedEvent({dragEvent:e,oldIndex:o,newIndex:u,oldContainer:l,newContainer:c});this.trigger(d)}[u](e){if(e.over===e.originalSource||e.over===e.source)return;const{source:t,over:n,overContainer:r}=e,o=this.index(t),s=new a.SortableSortEvent({dragEvent:e,currentIndex:o,source:t,over:n});if(this.trigger(s),s.canceled())return;const i=f({source:t,over:n,overContainer:r,children:this.getDraggableElementsForContainer(r)});if(!i)return;const{oldContainer:l,newContainer:c}=i,u=this.index(t),d=new a.SortableSortedEvent({dragEvent:e,oldIndex:o,newIndex:u,oldContainer:l,newContainer:c});this.trigger(d)}[d](e){const t=new a.SortableStopEvent({dragEvent:e,oldIndex:this.startIndex,newIndex:this.index(e.source),oldContainer:this.startContainer,newContainer:e.source.parentNode});this.trigger(t),this.startIndex=null,this.startContainer=null}}function m(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}function f({source:e,over:t,overContainer:n,children:r}){const o=!r.length,s=e.parentNode!==n,i=t&&e.parentNode===t.parentNode;return o?function(e,t){const n=e.parentNode;return t.appendChild(e),{oldContainer:n,newContainer:t}}(e,n):i?function(e,t){const n=m(e),r=m(t);return n<r?e.parentNode.insertBefore(e,t.nextElementSibling):e.parentNode.insertBefore(e,t),{oldContainer:e.parentNode,newContainer:e.parentNode}}(e,t):s?function(e,t,n){const r=e.parentNode;return t?t.parentNode.insertBefore(e,t):n.appendChild(e),{oldContainer:r,newContainer:e.parentNode}}(e,t,n):null}t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const o=Symbol("canceled");class s{constructor(e){this[o]=!1,this.data=e}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this[o]=!0}canceled(){return Boolean(this[o])}clone(e){return new this.constructor(r({},this.data,e))}}t.default=s,s.type="event",s.cancelable=!1},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SortableStopEvent=t.SortableSortedEvent=t.SortableSortEvent=t.SortableStartEvent=t.SortableEvent=void 0;var r,o=n(3),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get dragEvent(){return this.data.dragEvent}}t.SortableEvent=i,i.type="sortable";class a extends i{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}t.SortableStartEvent=a,a.type="sortable:start",a.cancelable=!0;class l extends i{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}t.SortableSortEvent=l,l.type="sortable:sort",l.cancelable=!0;class c extends i{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}t.SortableSortedEvent=c,c.type="sortable:sorted";class u extends i{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}t.SortableStopEvent=u,u.type="sortable:stop"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o,s=n(45),i=(o=s)&&o.__esModule?o:{default:o};t.default=i.default}])),ie={exports:{}};const ae=(e,t,n)=>{const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const r=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(r,0,o)}};ie.exports=(e,t,n)=>(e=[...e],ae(e,t,n),e),ie.exports.mutate=ae;var le=ie.exports,ce=N,ue=L,de=T,he=X,ge=Y;var me=F,fe=I,ve=k;var pe=function(e,t){return ve(fe(e,t,me),e+"")}((function(e,t,n){t=ue(t,e);var r=null==(e=he(e,t))?e:e[ge(de(t))];return null==r?void 0:ce(r,e,n)})),be=A,ye=/\s/;var Ee=function(e){for(var t=e.length;t--&&ye.test(e.charAt(t)););return t},Ce=/^\s+/;var Se=function(e){return e?e.slice(0,Ee(e)+1).replace(Ce,""):e},Oe=V,Me=q,_e=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,xe=/^0o[0-7]+$/i,De=parseInt;var Pe=V,je=function(){return be.Date.now()},Ne=function(e){if("number"==typeof e)return e;if(Me(e))return NaN;if(Oe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Oe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Se(e);var n=we.test(e);return n||xe.test(e)?De(e.slice(2),n?2:8):_e.test(e)?NaN:+e},Le=Math.max,Te=Math.min;var Xe=function(e,t,n){var r,o,s,i,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,s=o;return r=o=void 0,c=t,i=e.apply(s,n)}function m(e){return c=e,a=setTimeout(v,t),u?g(e):i}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=s}function v(){var e=je();if(f(e))return p(e);a=setTimeout(v,function(e){var n=t-(e-l);return d?Te(n,s-(e-c)):n}(e))}function p(e){return a=void 0,h&&r?g(e):(r=o=void 0,i)}function b(){var e=je(),n=f(e);if(r=arguments,o=this,l=e,n){if(void 0===a)return m(l);if(d)return clearTimeout(a),a=setTimeout(v,t),g(l)}return void 0===a&&(a=setTimeout(v,t)),i}return t=Ne(t)||0,Pe(n)&&(u=!!n.leading,s=(d="maxWait"in n)?Le(Ne(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=o=a=void 0},b.flush=function(){return void 0===a?i:p(je())},b},Ye=f({components:{ColumnCard:Q,VButton:g,EditIcon:$,TrashIcon:p},props:{name:{type:String,required:!0}},setup(e){const t=b(),n=U(),r=B("dialog"),o=R({}),s=R(),i=R(),c=y({get:()=>{var n;return null==(n=t.state.modifications[e.name])?void 0:n.columns},set:n=>t.commit("setModification",{tableName:e.name,modified:l(a({},t.state.modifications[e.name]),{columns:n})})}),u=y((()=>t.getters.tableModified(e.name))),d=y((()=>{var n;return null==(n=t.state.modifications[e.name])?void 0:n.new})),h={commit(){d.value?t.dispatch("createTable",{tableName:e.name}):t.dispatch("alterTable",{tableName:e.name})},async discard(){var n,r;await t.commit("setModification",{tableName:e.name,modified:l(a({},t.state.modifications[e.name]),{columns:null!=(r=null==(n=t.state.tables[e.name])?void 0:n.columns)?r:{}})})},addColumn(){t.dispatch("addModifiedColumn",{tableName:e.name})}};return z((()=>{function e({oldIndex:e,newIndex:t}){c.value=Object.fromEntries(le(Object.entries(c.value),e,t))}const t=new se(s.value,{draggable:"[sortable]",distance:15,mirror:{constrainDimensions:!0}});t.on("sortable:sorted",e),t.on("drag:start",(e=>{"INPUT"===e.originalEvent.target.tagName&&e.cancel()}));const n=new se(i.value,{draggable:"[sortable]",distance:15,mirror:{constrainDimensions:!0,xAxis:!1}});n.on("sortable:sorted",(({oldIndex:t,newIndex:n})=>{e({oldIndex:t,newIndex:n}),Xe(pe,500,{maxWait:100})(o.value,[Object.keys(c.value)[n],"scrollIntoView"],{behavior:"smooth",block:"center"})})),n.on("sortable:stop",(({newIndex:e})=>pe(o.value,[Object.keys(c.value)[e],"scrollIntoView"],{behavior:"smooth",block:"center"})))})),{isModified:u,isNew:d,columnCards:s,columnNav:i,changes:h,columns:c,focusColumn:e=>{pe(o.value,[e,"focus"],{preventScroll:!0}),pe(o.value,[e,"scrollIntoView"],{behavior:"smooth",block:"center"})},columnRefs:o,deleteTable:function(){r&&r.confirm("Do you really want to delete?",{positive:"Delete",positiveVariant:"error",onPositive(){const r=y((()=>t.getters.tableNames));if(r.value.length>1){const t=r.value[(r.value.indexOf(e.name)+1)%r.value.length];n.push(`/table/${t}`)}else n.push("/");d.value?t.commit("setModifications",Object.fromEntries(Object.entries(t.state.modifications).filter((t=>t[0]!==e.name)))):t.dispatch("dropTable",e.name)}})},renameTable:function(){r&&r.prompt("Enter new name",{title:"Rename table",initialPrompt:e.name,onPositive(r){t.dispatch(d.value?"renameModification":"renameTable",{tableName:e.name,newTableName:r}),n.replace({params:{name:r}})}})}}}});const Fe=P();C("data-v-48708f20");const Ie={ref:"columnCards"},ke=K(" Rename table "),Ae=w("i",{class:"mx-auto"},null,-1),Ve={ref:"columnNav"};S();const qe=Fe(((e,t,n,r,o,s)=>{const i=O("edit-icon"),a=O("v-button"),l=O("trash-icon"),c=O("column-card");return M(),_("div",{class:"wrapper",onKeyup:[t[1]||(t[1]=G(J(((...t)=>e.changes.commit&&e.changes.commit(...t)),["ctrl","exact"]),["enter"])),t[2]||(t[2]=G(J(((...t)=>e.changes.discard&&e.changes.discard(...t)),["ctrl","exact"]),["esc"]))]},[w("div",Ie,[w("header",null,[w("h1",null,x(e.name),1),w("span",null,[w(a,{variant:"primary",onClick:e.renameTable},{default:Fe((()=>[w(i),ke])),_:1},8,["onClick"]),w(a,{variant:"error",onClick:e.deleteTable},{default:Fe((()=>[w(l),K(" "+x(e.isNew?"Discard Table":"Delete table"),1)])),_:1},8,["onClick"])])]),(M(!0),_(H,null,W(e.columns,((t,n)=>(M(),_(c,{key:`Column ${n}`,ref:t=>e.columnRefs[n]=null==t?void 0:t.$el,"column-name":n,"table-name":e.name,sortable:""},null,8,["column-name","table-name"])))),128)),w("footer",null,[w(a,{text:e.isNew?"Create Table":"Commit Changes",disabled:!e.isModified,variant:"success",onClick:e.changes.commit},null,8,["text","disabled","onClick"]),w(a,{text:"Disscard Changes",disabled:!e.isModified,variant:"error",onClick:e.changes.discard},null,8,["disabled","onClick"]),Ae,w(a,{text:"Add column",variant:"primary",onClick:e.changes.addColumn},null,8,["onClick"])])],512),w("nav",Ve,[(M(!0),_(H,null,W(e.columns,((t,n)=>(M(),_(a,{key:`scroll-to-column-${n}`,text:t.new?t.name:n,sortable:"",hollow:"",onClick:()=>e.focusColumn(n)},null,8,["text","onClick"])))),128)),w(a,{disabled:!e.isModified,text:e.isNew?"Create Table":"Commit Changes",variant:"success",onClick:e.changes.commit},null,8,["disabled","text","onClick"]),w(a,{text:"Disscard Changes",disabled:!e.isModified,variant:"error",onClick:e.changes.discard},null,8,["disabled","onClick"])],512)],32)}));Ye.render=qe,Ye.__scopeId="data-v-48708f20";export{Ye as default};
